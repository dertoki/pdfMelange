<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title></title>
	<meta name="generator" content="Zim 0.60">
	<meta name="viewport" content="width=device-width">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,greek,latin-ext' rel='stylesheet' type='text/css'> -->
	<![if !IE]>
	<!-- comment out for IE since it spams the user with warnings -->
	<script type='text/javascript' src='http://code.jquery.com/jquery-1.7.1.js'></script>
	<script type='text/javascript'>
		$(window).load(function(){$("#navigation").height( $("#content").height()+65 );});
	</script>
	<![endif]>
	<style>
		body, html {
			height:100%;
			font-family:'Open Sans', sans-serif;
			line-height:1.5em;
			font-weight:300;
			background-color:#FAFAFA;
			text-rendering:geometricPrecision;
			margin:0;
			padding:0;
		}
		.wrapper {
			height:100%;
			position:relative;
		}
		#navigation {
			background-color:#F3F3F3;
			display:inline-block;
			border-right:1px solid #EAEAEA;
			padding-right:65px;
			padding-top:65px;
			padding-left:25px;
			position:relative;
			float:left;
			min-height:100%;
		}
		#content {
			float:left;
			display:inline-block;
			position:absolute;
			max-width:960px;
			padding:65px;
		}
		#navigation ul {
			margin-top:0;
			margin-bottom:0;
			padding-left:40px;
		}
		#navigation li {
			list-style-type:none;
		}
		#navigation a {
			text-decoration:none;
			color:gray;
		}
		#navigation strong {
			color:#4E9A06;
			font-weight:400;
		}
		#navigation a:hover {
			text-decoration:underline;
		}
		#content h1:nth-child(1) {
			margin-top:0;
		}
		h1,h2,h3,h4,h5,h6 {
			color:#4E9A06;
			font-weight:300;
		}
		#content a {
			color:#CE5C00;
		}
		#content a {
			text-decoration: none;
		}
		#content a:hover {
			text-decoration: underline;
		}
		#content a:active {
			text-decoration: underline;
		}
		#content strike {
			color: grey;
		}
		#content u {
			text-decoration: none;
			background-color: yellow;
		}
		#content tt {
			color: #2e3436;
		}
		#content pre {
			color: #2e3436;
			margin-left: 20px;
		}
		.backlinks {
			color:gray;
		}
		hr.footnotes {
			width: 20%;
			margin-left: 0;
		}
		@media print{
			#navigation{
				background-color:#FFF;
			}
		}
	</style>
</head>
<body>
	<div class="wrapper">
		<div id="navigation"> 
			<h2>pdfMelange</h2>
			<img id="about" src='/pdfMelange/Home/logo.jpg' height="100px" width="146px" />
			<ul>
<li><a href="/pdfMelange/index.html" title="Home" class="page">Home</a></li>
<ul>
<li><a href="/pdfMelange/Home/Development_Resources.html" title="Development Resources" class="page">Development Resources</a></li>
<ul>
<li><a href="/pdfMelange/Home/Development_Resources/build_from_C%2B%2B_sources.html" title="build from C++ sources" class="page">build from C++ sources</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/build_from_java_sources.html" title="build from java sources" class="page">build from java sources</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/build_with_minGW.html" title="build with minGW" class="page">build with minGW</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets.html" title="code snippets" class="page">code snippets</a></li>
<ul>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/bash.html" title="bash" class="page">bash</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/Git.html" title="Git" class="page">Git</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/I18N.html" title="I18N" class="page">I18N</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/libraries_info.html" title="libraries info" class="page">libraries info</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/package_building.html" title="package building" class="page">package building</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/patches.html" title="patches" class="page">patches</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/pdf.html" title="pdf" class="page">pdf</a></li>
<ul>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/pdf/ghostscript.html" title="ghostscript" class="page">ghostscript</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/pdf/pdf_basics.html" title="pdf basics" class="page">pdf basics</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/pdf/pdfHummus.html" title="pdfHummus" class="page">pdfHummus</a></li>
<ul>
<li><strong class="activepage">patch</strong></li>
</ul>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/pdf/PoDoFo.html" title="PoDoFo" class="page">PoDoFo</a></li>
<li><a href="/pdfMelange/Home/Development_Resources/code_snippets/pdf/poppler.html" title="poppler" class="page">poppler</a></li>
</ul>
</ul>
<li><a href="/pdfMelange/Home/Development_Resources/links.html" title="links" class="page">links</a></li>
</ul>
<li><a href="/pdfMelange/Home/Download.html" title="Download" class="page">Download</a></li>
<li><a href="/pdfMelange/Home/Installation.html" title="Installation" class="page">Installation</a></li>
<li><a href="/pdfMelange/Home/License.html" title="License" class="page">License</a></li>
<li><a href="/pdfMelange/Home/News.html" title="News" class="page">News</a></li>
<li><a href="/pdfMelange/Home/Screenshots.html" title="Screenshots" class="page">Screenshots</a></li>
</ul>
</ul>
 
			<a href="https://github.com/">
                            <img style="position:absolute; TOP:600px; LEFT:25px" 
                                 src='/pdfMelange/Home/GitHub_Logo.png' 
                                 height="41px" width="100px"
                                 title="hosted at GitHub"
                            >
			</a>
			<a href="http://developer.berlios.de/">
			    <img style="position:absolute; TOP:642px; LEFT:25px" 
                                 src='/pdfMelange/Home/bslogo.php.png' 
                                 height="25px" width="101px"
                                 title="previously hosted at BerliOS"
                            >
			</a>
			<a href="http://zim-wiki.org/">
			    <img style="position:absolute; TOP:666px; LEFT:25px" 
                                 src='/pdfMelange/Home/zim-wiki.png' 
                                 height="50px" width="50px"
                                 title="pages build with zim-wiki"
                            >
			</a>
		</div>
		<div id="content">
						<h1>patch</h1>

			<p>
Created Sonntag 30 November 2014<br>
</p>

<p>
<strong>Paste the following to PDFWriter.patch:</strong><br>
</p>

<pre>
diff -rupN PDFWriterCMake3_2/CMakeLists.txt PDFWriterCMake3_2_mod/CMakeLists.txt
--- PDFWriterCMake3_2/CMakeLists.txt	2013-11-09 14:20:46.000000000 +0100
+++ PDFWriterCMake3_2_mod/CMakeLists.txt	2014-11-22 09:29:29.792674371 +0100
@@ -1,13 +1,11 @@
 project(PDFHUMMUS)
 cmake_minimum_required (VERSION 2.6)
 
-if(NOT PDFHUMMUS_NO_DCT)
-	ADD_SUBDIRECTORY(LibJpeg)
-endif(NOT PDFHUMMUS_NO_DCT)
-	ADD_SUBDIRECTORY(ZLib)
-if(NOT PDFHUMMUS_NO_TIFF)
-	ADD_SUBDIRECTORY(LibTiff)
-endif(NOT PDFHUMMUS_NO_TIFF)
-ADD_SUBDIRECTORY(FreeType)
+find_package(ZLIB)
+find_package(Freetype)
+find_package(JPEG)
+find_package(TIFF)
+include_directories(${FREETYPE_INCLUDE_DIRS})
 ADD_SUBDIRECTORY(PDFWriter)
 ADD_SUBDIRECTORY(PDFWriterTestPlayground)
+
diff -rupN PDFWriterCMake3_2/CMakeLists.txt.original PDFWriterCMake3_2_mod/CMakeLists.txt.original
--- PDFWriterCMake3_2/CMakeLists.txt.original	1970-01-01 01:00:00.000000000 +0100
+++ PDFWriterCMake3_2_mod/CMakeLists.txt.original	2014-11-19 21:25:23.304570839 +0100
@@ -0,0 +1,13 @@
+project(PDFHUMMUS)
+cmake_minimum_required (VERSION 2.6)
+
+if(NOT PDFHUMMUS_NO_DCT)
+	ADD_SUBDIRECTORY(LibJpeg)
+endif(NOT PDFHUMMUS_NO_DCT)
+	ADD_SUBDIRECTORY(ZLib)
+if(NOT PDFHUMMUS_NO_TIFF)
+	ADD_SUBDIRECTORY(LibTiff)
+endif(NOT PDFHUMMUS_NO_TIFF)
+ADD_SUBDIRECTORY(FreeType)
+ADD_SUBDIRECTORY(PDFWriter)
+ADD_SUBDIRECTORY(PDFWriterTestPlayground)
diff -rupN PDFWriterCMake3_2/PDFWriter/CMakeLists.txt PDFWriterCMake3_2_mod/PDFWriter/CMakeLists.txt
--- PDFWriterCMake3_2/PDFWriter/CMakeLists.txt	2014-05-31 14:27:14.000000000 +0200
+++ PDFWriterCMake3_2_mod/PDFWriter/CMakeLists.txt	2014-11-22 09:30:21.894868860 +0100
@@ -14,7 +14,7 @@ else(NOT PDFHUMMUS_NO_TIFF)
 endif(NOT PDFHUMMUS_NO_TIFF)
 
 include_directories (${FreeType_SOURCE_DIR}/include) 
-add_library (PDFWriter 
+add_library (PDFWriter SHARED 
 #sources
 AbstractContentContext.cpp
 AbstractWrittenFont.cpp
@@ -709,4 +709,4 @@ UsedFontsRepository.h
 source_group(Main FILES
 PDFWriter.cpp
 PDFWriter.h
-)
\ Kein Zeilenumbruch am Dateiende.
+)
diff -rupN PDFWriterCMake3_2/PDFWriter/TIFFImageHandler.cpp PDFWriterCMake3_2_mod/PDFWriter/TIFFImageHandler.cpp
--- PDFWriterCMake3_2/PDFWriter/TIFFImageHandler.cpp	2014-05-31 13:56:10.000000000 +0200
+++ PDFWriterCMake3_2_mod/PDFWriter/TIFFImageHandler.cpp	2014-11-20 20:07:08.907838347 +0100
@@ -3584,4 +3584,4 @@ TIFFImageHandler::TiffImageInfo TIFFImag
     return imageInfo;
 }
 
-#endif
\ Kein Zeilenumbruch am Dateiende.
+#endif
diff -rupN PDFWriterCMake3_2/PDFWriter/TIFFImageHandler.h PDFWriterCMake3_2_mod/PDFWriter/TIFFImageHandler.h
--- PDFWriterCMake3_2/PDFWriter/TIFFImageHandler.h	2014-05-31 13:53:08.000000000 +0200
+++ PDFWriterCMake3_2_mod/PDFWriter/TIFFImageHandler.h	2014-11-22 09:39:13.529288493 +0100
@@ -78,6 +78,7 @@
 #include "ObjectsBasicTypes.h"
 #include "TiffUsageParameters.h"
 
+#include &lt;tiffio.h&gt;
 #include &lt;string&gt;
 #include &lt;list&gt;
 #include &lt;utility&gt;
@@ -108,13 +109,6 @@ typedef std::list&lt;PDFImageXObject*&gt; PDFI
 typedef std::list&lt;std::string&gt; StringList;
 typedef std::pair&lt;double,double&gt; DoubleAndDoublePair;
 
-//  tiff.h extracted defs [prefer to avoid including too much here]
-typedef	unsigned short uint16;	/* sizeof (uint16) must == 2 */
-typedef	unsigned int uint32;	/* sizeof (uint32) must == 4 */
-typedef	int int32;
-typedef int32 tsize_t;          /* i/o size in bytes */
-typedef void* tdata_t;          /* image data ref */
-
 typedef	tsize_t (*ImageSizeProc)(T2P* inT2p);
 
 class TIFFImageHandler
diff -rupN PDFWriterCMake3_2/PDFWriterTestPlayground/CMakeLists.txt PDFWriterCMake3_2_mod/PDFWriterTestPlayground/CMakeLists.txt
--- PDFWriterCMake3_2/PDFWriterTestPlayground/CMakeLists.txt	2013-12-14 17:17:34.000000000 +0100
+++ PDFWriterCMake3_2_mod/PDFWriterTestPlayground/CMakeLists.txt	2014-11-22 09:31:33.191556578 +0100
@@ -301,31 +301,24 @@ endif(PDFHUMMUS_NO_TIFF)
 
 
 include_directories (${PDFWriter_SOURCE_DIR}) 
-include_directories (${Zlib_SOURCE_DIR})
+include_directories (${ZLIB_INCLUDE_DIRS})
 if(NOT PDFHUMMUS_NO_DCT)
-	include_directories (${LibJpeg_SOURCE_DIR})
+	include_directories (${JPEG_INCLUDE_DIRS})
 else(NOT PDFHUMMUS_NO_DCT)
 	add_definitions(-DPDFHUMMUS_NO_DCT=1)
 endif(NOT PDFHUMMUS_NO_DCT)
 
 if(NOT PDFHUMMUS_NO_TIFF)
-	include_directories (${LibTiff_SOURCE_DIR})  
+	include_directories (${TIFF_INCLUDE_DIRS})  
 else(NOT PDFHUMMUS_NO_TIFF)
 	add_definitions(-DPDFHUMMUS_NO_TIFF=1)
 endif(NOT PDFHUMMUS_NO_TIFF)
-include_directories (${FreeType_SOURCE_DIR}/include) 
+include_directories (${Freetype_INCLUDE_DIRS}) 
 
 add_dependencies(PDFWriterTestPlayground PDFWriter) #add_dependencies makes sure that dependencies are built before main target
 
 target_link_libraries (PDFWriterTestPlayground PDFWriter)
-target_link_libraries (PDFWriterTestPlayground FreeType)
-if(NOT PDFHUMMUS_NO_DCT)
-	target_link_libraries (PDFWriterTestPlayground LibJpeg)
-endif(NOT PDFHUMMUS_NO_DCT)
-target_link_libraries (PDFWriterTestPlayground Zlib)
-if(NOT PDFHUMMUS_NO_TIFF)
-	target_link_libraries (PDFWriterTestPlayground LibTiff)
-endif(NOT PDFHUMMUS_NO_TIFF)
+target_link_libraries (PDFWriterTestPlayground ${ZLIB_LIBRARIES} ${FREETYPE_LIBRARIES} ${TIFF_LIBRARIES} ${JPEG_LIBRARIES})
 
 if(APPLE)
 	set(CMAKE_EXE_LINKER_FLAGS "-framework CoreFoundation")
</pre>



			<br>
			<hr class='footnotes'>
			<span class="backlinks">
				Backlinks:
								<a href='/pdfMelange/Home/Development_Resources/code_snippets/pdf/pdfHummus.html'>Home:Development Resources:code snippets:pdf:pdfHummus</a>
			</span>
		</div>
	</div>
</body>
</html>

