<!DOCTYPE html>
<html lang="de">
     <head>
          <meta charset="utf-8">
          <meta http-equiv="X-UA-Compatible" content="IE=edge">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <title>pdfMelange</title>
          <title>Bootstrap-Basis-Vorlage</title>

          <!-- Bootstrap -->
          <link href=../../Home/resources/css/bootstrap.min.css rel="stylesheet">

          <!-- Unterstützung für Media Queries und HTML5-Elemente in IE8 über HTML5 shim und Respond.js -->
          <!-- ACHTUNG: Respond.js funktioniert nicht, wenn du die Seite über file:// aufrufst -->
          <!--[if lt IE 9]>
           <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
           <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
     </head>

     <body>

         <nav class="navbar navbar-default">
               <div class="container-fluid">
                    <div class="navbar-header">

                         <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                              <span class="sr-only">Navigation ein-/ausblenden</span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                         </button>

                         <a class="navbar-brand" href="/pdfMelange/index.html">
                              pdfMelange
                         </a>
                    </div>

                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                         <ul class="nav navbar-nav">
                              <li><img src=../../Home/resources/brand.png height="50px" width="83px" title="free forever"></li>
                              <!-- <li><a href="/pdfMelange/index.html"> <span class="glyphicon glyphicon-home" aria-hidden="true"></span> Home </a></li> -->
                              <li><a href="/pdfMelange/Home/Download.html"> <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Download </a></li>
                              <li><a href="/pdfMelange/Home/Installation.html"> <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Installation </a></li>
                              <li><a href="/pdfMelange/Home/Screenshots.html"> <span class="glyphicon glyphicon-picture" aria-hidden="true"></span> Screenshots </a></li>
                              <li><a href="/pdfMelange/Home/News.html"> <span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span> News </a></li>
                         </ul>

                         <ul class="nav navbar-nav navbar-right">
                             <a href="https://github.com/">
                                 <img src="/pdfMelange/Home/resources/Octocat.png" height="50px" width="50px" title="hosted at GitHub" >
                             </a>
                             <a href="http://zim-wiki.org/">
                                 <img src="/pdfMelange/Home/resources/zim-wiki.png" height="50px" width="50px" title="pages built with zim-wiki">
                             </a>
                         </ul>

                    </div><!-- /.navbar-collapse -->

               </div>
          </nav>

          <div class="container-fluid">
               <div class="row">
                    <div class="col-md-3">
                        <!-- <a href="/pdfMelange/index.html"> <span class="glyphicon glyphicon-home"></span> Home </a> -->
                        <ul>
<li><a href="/pdfMelange/index.html" title="Home" class="page">Home</a>
<ul>
<li><a href="/pdfMelange/Home/Download.html" title="Download" class="page">Download</a></li>
<li><a href="/pdfMelange/Home/Installation.html" title="Installation" class="page">Installation</a>
<ul>
<li><a href="/pdfMelange/Home/Installation/Linux.html" title="Linux" class="page">Linux</a></li>
<li><b>Windows - minGW</b></li>
</ul>
</li>
<li><a href="/pdfMelange/Home/License.html" title="License" class="page">License</a></li>
<li><a href="/pdfMelange/Home/Links.html" title="Links" class="page">Links</a></li>
<li><a href="/pdfMelange/Home/News.html" title="News" class="page">News</a></li>
<li><a href="/pdfMelange/Home/pdfMelange_for_Windows.html" title="pdfMelange for Windows" class="page">pdfMelange for Windows</a></li>
<li><a href="/pdfMelange/Home/Screenshots.html" title="Screenshots" class="page">Screenshots</a></li>
</ul></li>
</ul>

                    </div>
                    <div class="col-md-9">
                                <div class='heading'>
                                   <h1>Windows - minGW <a name='Home:Installation:Windows - minGW'></a></h1>
                                </div>

                                <div class='content'>
                                   <p>
The Windows binaries are created in a cross compiling environment on a linux host. We neither need a Windows installation nor any non free Windows resources. 
</p>

<h2>Precompiled packages</h2>

<br>

<p>
Please choose the appropriate package for Windows, see <a href="/pdfMelange/Home/Download.html" title="Home:Download" class="page">Home:Download</a>
</p>

<h2>Requirements and dependencies</h2>

<br>

<p>
<div style='padding-left: 60pt'>
There are precompiled editions of <i>gtkmm</i> for <i>mingw</i> in repositories of <i>fedora</i>.	
</div>
</p>

<pre style='padding-left: 60pt'>
sudo dnf install wget gcc-c++ intltool sysconftool
sudo dnf install mingw64-gcc mingw64-gtkmm30 mingw64-poppler-glib
</pre>

<p>
<div style='padding-left: 60pt'>
You will find all the files in <tt>/usr/i686-w64-mingw32/sys-root/mingw.</tt>
</div>
</p>

<br>

<h3>Build</h3>

<br>

<p>
<ol style='padding-left: 30pt' type="1" start="1">
<li><b>Compile pdfMelange:</b></li>
</ol>
</p>

<p>
<div style='padding-left: 60pt'>
A particular makefile "<tt>Makefile.win32</tt>" in the subdirectory <tt>"./mingw"</tt> is used to build the binaries. Check the makefile variable <tt>PKG_PREFIX </tt>and start the make.
</div>
</p>

<pre style='padding-left: 60pt'>
cd mingw
make -f Makefile.win32
</pre>

<p>
<ol style='padding-left: 30pt' type="1" start="2">
<li><b>Build a setup program:</b></li>
</ol>
</p>

<p>
<div style='padding-left: 60pt'>
It's boring to collect all necessary files for a Windows distribution. We need a lot of library files, icons, etc.  Files have to reside in specific directories and the directories have to be arranged in a special order.<br>
For this process I deliver the script '<tt>get_win32_deps.sh</tt>' that collects the files and creates a windows setup program:
</div>
</p>

<p>
<ul style='padding-left: 30pt'>
<li>We need an installation of Wine:</li>
</ul>
</p>

<pre style='padding-left: 60pt'>
sudo apt install wine
</pre>

<p>
<ul style='padding-left: 30pt'>
<li>A Windows version of <b>'Inno Setup'</b> needs to be installed:</li>
</ul>
</p>

<pre style='padding-left: 60pt'>
./get_win32_deps.sh depload
./get_win32_deps.sh depinst
</pre>

<p>
<ul style='padding-left: 30pt'>
<li>Start the build process:</li>
</ul>
</p>

<pre style='padding-left: 60pt'>
/get_win32_deps.sh buildsetup
</pre>

<p>
<ul style='padding-left: 30pt'>
<li>The target file structure is colleced in '<tt>mingw/dist</tt>'.</li>
<li>The setup program is copied to '<tt>mingw/output</tt>'.</li>
</ul>
</p>

                                </div>

                                <br />
                    </div>
               </div>
          </div>

         <!-- jQuery (wird für Bootstrap JavaScript-Plugins benötigt) -->
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
         <!-- Binde alle kompilierten Plugins zusammen ein (wie hier unten) oder such dir einzelne Dateien nach Bedarf aus -->
         <script src=../../Home/resources/js/bootstrap.min.js ></script>
     </body>
</html>
